
{% for tot_num , state_num , group in inform%}
<script>

var chart = Highcharts.chart("container_{{group.id}}", {
	chart: {
		spacing: [0,0,0,0] , 
		margin: [0,0,0,0] , 
	},
	title: {
		floating: true,
		text: "实验数：{{tot_num}}" , 
		style: { "color": "#E0E0E0",} , 
	},
	plotOptions: {
		pie: {
			borderWidth: 0 , 
			allowPointSelect: true,
			cursor: "pointer",
			dataLabels: {
				enabled: true,
				format: "<b>{point.name}</b>: {point.y}",
				color: "#E0E0E0" , 
				style: {
					"textOutline": "0px 0px contrast"
				}
			},
			point: {
				events: {
					mouseOver: function(e) {
						chart.setTitle({
							text: e.target.name + "："+ (parseInt(e.target.percentage*100)/100) + " %"
						});
					} , 
					mouseOut: function(e) {
						chart.setTitle({
							text: "实验数：{{tot_num}}"
						});
					}
				}
			},
		}
	},
	series: [{
		type: "pie",
		innerSize: "80%",
		name: "数量",
		data: [
			["未完成"	,	{{state_num.0}}],
			["已完成"	,	{{state_num.1}} + {{state_num.2}}],
			["异常终止"	,	{{state_num.3}}],
		]
	}]
}, function(c) {
	// 环形图圆心
	var centerY = c.series[0].center[1],
		titleHeight = parseInt(c.title.styles.fontSize);
	// 动态设置标题位置
	c.setTitle({
		y:centerY + titleHeight/2
	});
});
</script>
{% endfor %}