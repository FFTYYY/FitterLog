<!DOCTYPE html>

{%load static%}

<head>
		<link rel = "stylesheet" href = {% static "/layui/css/layui.css" %} type = "text/css" />
<link rel = "stylesheet" href = {% static "/layui-soul-table/soulTable.css" %} type = "text/css" />

		<link rel = "stylesheet" href = {% static "/experiment/css/group/main.css" %} type = "text/css" />
		<link rel = "stylesheet" href = {% static "/experiment/css/group/header.css" %} type = "text/css" />
		<link rel = "stylesheet" href = {% static "/experiment/css/group/content.css" %} type = "text/css" />
		<link rel = "stylesheet" href = {% static "/experiment/css/group/content_inside_table.css" %} type = "text/css" />
		<link rel = "stylesheet" href = {% static "/experiment/css/group/scrollbar.css" %} type = "text/css" />
		<link rel = "stylesheet" href = {% static "/experiment/css/group/toolbar.css" %} type = "text/css" />
		<link rel = "stylesheet" href = {% static "/experiment/css/group/soultable.css" %} type = "text/css" />

</head>


<body>
	<div id = "header">
		<p id = "group_name">【实验组】{{group.name}}</p>
		<textarea id = "group_intro">{{group.intro}}</textarea>
	</div>

	<div id = "content">
		<table lay-filter = "main_table" , id = "the_table" , lay-data = "{id:'the_table'}">
			<thead>
				<tr>
					<th lay-data = "{
						filed : '_checkbox' , 
						type : 'checkbox' , 
						width : 50 ,
						fixed : 'left' ,
						style: 'background-color: #363636; color: #AAAAAAFF;' , 
					}"></th>

					{% for h , w , mw, sty in head_and_width_and_style %}
					<th lay-data = "{field:'{{h}}', width: {{w}} , minWidth:{{mw}}, sort:true ,align:'center', {{sty}}}">{{h}}</th>
					{% endfor %}

					<th lay-data = "{
						field:'right', 
						fixed:'right', 
						width: 100, 
						align: 'center' , 
						style: 'background-color: #363636; color: #AAAAAAFF;' , 
					}"></th>
				</tr> 
			</thead>
			<tbody>

				{% for state , exp_id , idx , line in line_information%}
				<tr>
					<td class = "{{idx}}"></td> <!--checkbox-->

					{% for v_id , val in line %}
					<td>{{val}}<div my_exp_id = {{exp_id}} my_id = {{v_id}} class = "hidden {% if state == 3 %}bad_experiment{% elif state == 0 %}running_experiment{% endif %}"></div>
					</td>
					{% endfor %}

					<td>
						<a class = "header_a" href = "/experiment/{{exp_id}}/logs">
							<i class="layui-icon">&#xe621;</i>
						</a>
					</td>

				</tr>
				{% endfor %}

			</tbody>
		</table>
	</div>


</body>

<script src = {% static "/layui/layui.js" %}></script>

<script src = {% static "/layui-soul-table/soulTable.js" %}></script> 
<script src = {% static "/layui-soul-table/tableFilter.js" %}></script> 
<script src = {% static "/layui-soul-table/excel.js" %}></script> 
<script src = {% static "/layui-soul-table/tableChild.js" %}></script>  
<script src = {% static "/layui-soul-table/tableMerge.js" %}></script> 

<script>
layui.config({
	base: "{% static "layui-soul-table/"%}"
}).extend({
	soulTable: "soulTable"  // 模块别名
});

</script>

<script>
	table = undefined
	hide_bad_exp = {{hide_bad_exp}}
</script>

<script src = {% static "/experiment/js/group/process_state.js" %}></script>
<script src = {% static "/experiment/js/group/save_and_load.js" %}></script>

<!--工具栏事件。比较适合在html里写因为可以方便的使用django模板语法-->
{% include "experiment/group/toolbar_event.html" %}
<script src = {% static "/experiment/js/group/group.js" %}></script>