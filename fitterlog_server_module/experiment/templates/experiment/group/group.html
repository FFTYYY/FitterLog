<!DOCTYPE html>

{%load static%}

<head>
	<!--导入layui相关样式-->
	<link rel = "stylesheet" href = {% static "/layui/css/layui.css" %} type = "text/css" />
	<link rel = "stylesheet" href = {% static "/layui-soul-table/soulTable.css" %} type = "text/css" />
	<link rel = "stylesheet" href = {% static "/experiment/css/layer-skin.css" %} type = "text/css" />

	<!--导入layui脚本-->
	<script src = {% static "/layui/layui.js" %}></script>
	<script src = {% static "/layui-soul-table/soulTable.js" %}></script> 
	<script src = {% static "/layui-soul-table/tableFilter.js" %}></script> 
	<script src = {% static "/layui-soul-table/excel.js" %}></script> 
	<script src = {% static "/layui-soul-table/tableChild.js" %}></script>  
	<script src = {% static "/layui-soul-table/tableMerge.js" %}></script> 

	<script>
		var $ = layui.$
	</script>

	<!--导入其他外部库-->
	<script src="https://cdn.bootcdn.net/ajax/libs/animejs/3.2.0/anime.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>

	<!--导入YUI-->
	<link rel = "stylesheet" href = {% static "YUI/css/YUI.css" %} type = "text/css" />
	<script src="{% static "YUI/YUI.js" %}"></script>
	<script src="{% static "YUI/YUI-components.js" %}"></script>
	<script src="{% static "YUI/YUI-css-complement.js" %}"></script>

	<!--针对layui的定制-->
	<link rel = "stylesheet" href = {% static "/experiment/css/group/custom_table_inside.css" %} type = "text/css" />
	<link rel = "stylesheet" href = {% static "/experiment/css/group/custom_table_around.css" %} type = "text/css" />
	<link rel = "stylesheet" href = {% static "/experiment/css/group/custom_toolbar.css" %} type = "text/css" />
	<link rel = "stylesheet" href = {% static "/experiment/css/group/custom_soultable.css" %} type = "text/css" />

	<!--其他样式-->
	<link rel = "stylesheet" href = {% static "/experiment/css/group/group.css" %} type = "text/css" />
	<link rel = "stylesheet" href = {% static "/experiment/css/group/header.css" %} type = "text/css" />
	<link rel = "stylesheet" href = {% static "/experiment/css/group/content.css" %} type = "text/css" />

	<link rel = "stylesheet" href = {% static "/experiment/css/scrollbar.css" %} type = "text/css" />
	<link rel = "stylesheet" href = {% static "/experiment/css/project/layer.css" %} type = "text/css" />

</head>


<script>
	YUI_init()
</script>

<body>

	<!-- 头部部分 -->
	<div class = "header">
		<p class = "group-name">【实验组】{{group.name}}</p>
		<textarea class = "group-intro">{{group.intro}}</textarea>
	</div>

	<!-- 内容（表格）部分 -->
	<div class = "content"><table lay-filter = "main-table" , id = "the-table" , lay-data = "{id:'the-table'}">

		<!-- 表格头部 -->
		<thead>
			<tr>
				<th lay-data = "{
					filed 	: '_checkbox' , 
					type 	: 'checkbox' , 
					width 	: 50 ,
					fixed 	: 'left' ,
					style: 'background-color: #363636; color: #AAAAAAFF;' , 
				}"></th>

				{% for head , width , min_width , ex_style in head_information %}
				<th lay-data = "{
					field	:'{{head}}', 
					width 	: {{width}} , 
					minWidth: {{min_width}}, 
					sort 	: true ,
					align 	:'center', 
					{{ex_style}}
				}">{{head}}</th>

				{% endfor %}

				<th lay-data = "{
					field 	: 'right', 
					fixed 	: 'right', 
					width 	: 100, 
					align 	: 'center' , 
					style 	: 'background-color: #363636; color: #AAAAAAFF;' , 
				}"></th>
			</tr> 
		</thead>

		<!-- 表格内容 -->
		<tbody>

			{% for state , exp_id , idx , line in line_information%}
			<tr>
				<td class = "{{idx}}"></td> <!--checkbox-->

				{% for v_id , val , head_name in line %}
				<td>{{val}}<div 
					my-exp-id = {{exp_id}} 
					my-id = {{v_id}} 
					class = "
						id-teller
						hidden 

						{% if state == 3 %}
							bad-experiment
						{% elif state == 0 %}
							running-experiment
						{% endif %}
					"
					></div>
				</td>
				{% endfor %}

				<td>
					<a class = "content-a layui-icon" href = "/experiment/{{exp_id}}/logs">&#xe621;</a>
					<a class = "content-a layui-icon" href = "/experiment/{{exp_id}}/figures">&#xe64a;</a>
					<a class = "content-a layui-icon" href = "javascript:void(0)" onclick = "javascript:copy_expe({{exp_id}})">&#xe656;</a>
					<div 
						my-exp-id = {{exp_id}}
						class = "
							id-teller
							hidden 

							{% if state == 3 %}
								bad-experiment
							{% elif state == 0 %}
								running-experiment
							{% endif %}
						"
					></div>
				</td>

			</tr>
			{% endfor %}

		</tbody>
		
	</table></div>


</body>



<!-- 启用soulTable扩展 -->
<script>
	layui.config({
		base: "{% static "layui-soul-table/"%}"
	}).extend({
		soulTable: "soulTable"  // 模块别名
	})
</script>

<!-- 导入脚本 -->
{% include "experiment/group/scripts.html" %}
<script src = {% static "/experiment/js/utils.js" %}></script>
<script src = {% static "/experiment/js/group/save_and_load.js" %}></script>
<script src = {% static "/experiment/js/group/toolbar_events.js" %}></script>

<script src = {% static "/experiment/js/group/group.js" %}></script>

<!--创建新实验-->
<!--
{% include "experiment/group/copy_expe.html" %}
-->
